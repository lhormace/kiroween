option_settings:
  # Application environment variables
  aws:elasticbeanstalk:application:environment:
    SERVER_PORT: 5000
    SPRING_PROFILES_ACTIVE: production
    AWS_REGION: ap-northeast-1
    S3_BUCKET_NAME: health-chat-data
    JWT_SECRET: change-me-in-production-use-secrets-manager
    JAVA_OPTS: "-Xmx768m -Xms256m -XX:+UseG1GC -XX:MaxGCPauseMillis=200"
  
  # Nginx proxy configuration (for Java platform)
  aws:elasticbeanstalk:environment:proxy:staticfiles:
    /static: static
  
  # Instance configuration
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.small
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
  
  # Environment configuration - Single instance (no auto-scaling)
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance
  
  # Health check configuration
  aws:elasticbeanstalk:application:
    Application Healthcheck URL: /actuator/health
  
  # CloudWatch Logs
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7
  
  # Deployment policy for single instance
  aws:elasticbeanstalk:command:
    DeploymentPolicy: AllAtOnce
  
  # Health reporting
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
